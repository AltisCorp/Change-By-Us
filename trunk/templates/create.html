{% extends "./partials/base.html" %}

{% block title %}
Give A Minute - Create a Project
{% endblock title %}

{% block continent %}
<div class='continent create'>
	<div class='headlands clearfix'>
		<div class='west'>
			<span class="above-h1">Create <em>a</em> Project</span>
			<h1>Go from an idea to a solution.</h1>
			<h2><strong>Shawna,</strong> let's make it happen. The first step is to start a project that supports your idea.</h2>
		</div>
		<div class='east'>
			<div class='box'>
				<div class='box merlin-progress clearfix'>
					<a class='indicator 1 west'><span class="label">Describe</span><span class="num">1</span></a>
					<a class='indicator 2 west inactive'><span class="label">Location</span><span class="num">2</span></a>
					<a class='indicator 3 west inactive'><span class="label">Check</span><span class="num">3</span></a>
					<a class='indicator 4 west inactive last'><span class="label">Add</span><span class="num">4</span></a>
				</div>
				<div class='box next'>
					<a class="ca-btn" href="#">
						<span>Next step</span>
					</a>
				</div>
				<div class="oops" style='display:none;'>
					<span></span>
				</div>
			</div>
		</div>
	</div>
	
	<div class='midlands'>
		<form class='merlin' action='/join' method='POST'>
			
			<div class='step start describe clearfix'>
				<div class="west">
					<div class="thumb">
						<img src="http://placehold.it/100x100" alt="" class="proj"/>
						<span class="overlay-tag"></span>
					</div>
					<div class="addphoto"><a href="">&#43; Add A Photo</a></div>
				</div>
				
				<div class="east">
					<div class="row clearfix">
						<label for='name'><strong>Name</strong> your project:</label>
						<input value='Name' type='text' name='name' id='name' class='name'/>
						<span class="charlimit">50</span>
						<div class="below-input clearfix"><span class="createdby">Created by</span><span class="user-name">Shawna Tearsdille</span><span class="edit">Edit</span></div>
					</div>
					<div class="row clearfix">
						<label for='organization'><strong>Organization</strong> (Optional):</label>
						<input value='' type='text' name='organization' id='organization' class='organization'/>
					</div>
					<div class="row clearfix">
						<label for='describe'><strong>Describe</strong> your project well so that people can find it and join to change!</label>
						<textarea cols="20" rows="6" name='describe' id='describe' class='describe'></textarea>
						<span class="charlimit">200</span>
					</div>
					<div class="row clearfix">
						<label for='keywords'><strong>Add</strong> keywords to help people find your project:</label>
						<input value='Seperate keywords by comma' type='text' name='keywords' id='keywords' class='keywords'/>
						<div class="below-input clearfix">
							<span class="suggested-keywords-label">Suggested Keywords</span>
							<span class="suggested-keywords">
								<span>Lorem</span>
								<span>ipsum</span>
								<span>dolor</span>
								<span>amet</span>
							</span>
						</div>
					</div>
				</div>
			</div><!--end step-->
			
			
			<div class='step location clearfix' style='display:none;'>
				<div class="west">
				</div>
				<div class="east">
					<h3>Where is your project located?</h3>
					<div class="row row-1 clearfix">
						<input type='radio' name='location-check' id='location-city' class='location-group location-city'/>
						<label class="location-city-label" for='location-city'>It's for the whole city</a></label>
					</div>
					<div class="row row-2 clearfix">
						<input type='radio' name='location-check' id='location-hood' class='location-group location-hood'/>
						<label class="location-hood-label" for='location-hood'>It's about a neighborhood or borough</a></label>
					</div>
					<div class="row row-3 clearfix">
						<input value='Start typing neighboorhood or borough...' type='text' name='location-hood-enter' id='location-hood-enter' class='location-group location-hood-enter'/>
						<div class="location-hood-list">
							<ul>
								<li><strong>So</strong>Ho</li>
								<li><strong>So</strong>uth Bronx</li>
							</ul>
						</div>
						<span class="error">Please try entering a neighborhood name, or a nearby borough.</span>
					</div>
				</div>
			</div><!--end step-->
			
			
			<div class='step check clearfix' style='display:none;'>
				<h3>Similar Projects</h3>
				<ul class="triplewide clearfix">
					<li>
						<div class="thumb">
							<img src="http://placehold.it/50x50" alt="" class="proj"/>
							<span class="overlay-tag"></span>
							<span class="member-count">58</span>
						</div>
						<div class="project-info">
							<span class="link"><a href="/project">Start a Garden on 161st in South Bronx</a></span>
							<span class="creator"><em>Created by </em> Terry Richardson</span>
							<span class="description">Tired of the empty lot at 161st and Melrose? Let&rsquo;s start a garden...</span>
						</div>
					</li>
					<li>
						<div class="thumb">
							<img src="http://placehold.it/50x50" alt="" class="proj"/>
							<span class="overlay-tag"></span>
							<span class="member-count">58</span>
						</div>
						<div class="project-info">
							<span class="link"><a href="/project">Start a Garden on 161st in South Bronx</a></span>
							<span class="creator"><em>Created by </em> Terry Richardson</span>
							<span class="description">Tired of the empty lot at 161st and Melrose? Let&rsquo;s start a garden...</span>
						</div>
					</li>
					<li class="every-third">
						<div class="thumb">
							<img src="http://placehold.it/50x50" alt="" class="proj"/>
							<span class="overlay-tag"></span>
							<span class="member-count">58</span>
						</div>
						<div class="project-info">
							<div class="endorser-thumb clearfix">
								<img src="http://placehold.it/30x30" alt="" class="endorser-photo" />
								<span class="overlay-tag"></span>
							</div>
							<span class="link"><a href="/project">Start a Garden on 161st in South Bronx</a></span>
							<span class="creator"><em>Created by </em> Terry Richardson</span>
							<span class="description">Tired of the empty lot at 161st and Melrose? Let&rsquo;s start a garden...</span>
						</div>
					</li>
					<li>
						<div class="thumb">
							<img src="http://placehold.it/50x50" alt="" class="proj"/>
							<span class="overlay-tag"></span>
							<span class="member-count">58</span>
						</div>
						<div class="project-info">
							<span class="link"><a href="/project">Start a Garden on 161st in South Bronx</a></span>
							<span class="creator"><em>Created by </em> Terry Richardson</span>
							<span class="description">Tired of the empty lot at 161st and Melrose? Let&rsquo;s start a garden...</span>
						</div>
					</li>
					<li>
						<div class="thumb">
							<img src="http://placehold.it/50x50" alt="" class="proj"/>
							<span class="overlay-tag"></span>
							<span class="member-count">58</span>
						</div>
						<div class="project-info">
							<span class="link"><a href="/project">Start a Garden on 161st in South Bronx</a></span>
							<span class="creator"><em>Created by </em> Terry Richardson</span>
							<span class="description">Tired of the empty lot at 161st and Melrose? Let&rsquo;s start a garden...</span>
						</div>
					</li>
					<li class="every-third">
						<div class="thumb">
							<img src="http://placehold.it/50x50" alt="" class="proj"/>
							<span class="overlay-tag"></span>
							<span class="member-count">58</span>
						</div>
						<div class="project-info">
							<span class="link"><a href="/project">Start a Garden on 161st in South Bronx</a></span>
							<span class="creator"><em>Created by </em> Terry Richardson</span>
							<span class="description">Tired of the empty lot at 161st and Melrose? Let&rsquo;s start a garden...</span>
						</div>
					</li>
				</ul>
			</div><!--end step-->
			
			
			<div class='step add clearfix' style='display:none;'>
				<div class="resources-added clearfix">
					<span class="resource-count">0</span>
					<span class="resource-label">You've added <br /><strong>resources</strong></span>
				</div>
				
				<ul class="triplewide clearfix">
					<li>
						<span class="thumb"><img src="http://placehold.it/35x35" alt="" /></span>
						<span class="resource-name"><span><span>GreenThumb NYC</span></span></span>
						<span class="add-button">Add</span>
					</li>
					<li class="added">
						<span class="thumb"><img src="http://placehold.it/35x35" alt="" /></span>
						<span class="resource-name"><span><span>Bronx River Alliance</span></span></span>
						<span class="add-button">Add</span>
						<div class="added-dialog">
							<span class="added-header">Added <em>to</em> your project</span>
							<span class="added-text">We sent an introduction to this organization with a link to this project. <a href="">?</a></span>
							<span class="added-close"></span>
						</div>
					</li>
					<li class="every-third">
						<span class="thumb"><img src="http://placehold.it/35x35" alt="" /></span>
						<span class="resource-name"><span><span>NYC 311</span></span></span>
						<span class="add-button">Add</span>
					</li>
					<li>
						<span class="thumb"><img src="http://placehold.it/35x35" alt="" /></span>
						<span class="resource-name"><span><span>GrowNYC</span></span></span>
						<span class="add-button">Add</span>
					</li>
					<li>
						<span class="thumb"><img src="http://placehold.it/35x35" alt="" /></span>
						<span class="resource-name"><span><span>SSBX</span></span></span>
						<span class="add-button">Add</span>
					</li>
					<li class="every-third">
						<span class="thumb"><img src="http://placehold.it/35x35" alt="" /></span>
						<span class="resource-name"><span><span>Terreform One</span></span></span>
						<span class="add-button">Add</span>
					</li>
				</ul>
			</div><!--end step-->
			
			<div class='step check-nosimilar other-step clearfix' style='display:none;'>
				<h3>Similar Projects</h3>
				<p><strong>No similar projects found.</strong></p>
				<p>Wow! Looks like we could really use your help since there aren't any projects like it out there.</p>
			</div><!--end step-->
			
			<div class='step add-noresources other-step clearfix' style='display:none;'>
				<h3>&nbsp;</h3>
				<p><strong>No resources found.</strong></p>
				<p>Sorry about that! Feel free to <a href="">add a link</a></p>
			</div><!--end step-->
			
			<div class='step finish clearfix' style='display:none;'>
				<p class="west">Thank you for joining.</p>
				<img class="loading" src='/static/images/loader32x32.gif' />
			</div><!--end step-->
		</form>
	</div>

	<div class='foothills'>
		<a class='back' href='#'>Back</a>
	</div>
	
	<div class='modal-content upload-image'>
		<div class='step add-link-step'>
			<h2><strong>Upload</strong> a photo for your project.</h2>
			<p>Photos should be <strong>under 1MB</strong> please. (We also crop photos to <strong>90px by 90px</strong>)</p>
			<div class="file-uploader"></div>
		</div>
		<a class='close' href="#"><span>close</span></a>
	</div>
	
</div>

<script>
	app_page.features.push(function(app){
		tc.util.log('Give A Minute: Create a Project');
		tc.jQ('.addphoto a').bind('click',{
			app:app,
			source_element:tc.jQ('.modal-content.upload-image'),
			init:function(modal,callback){
				var uploader = new qq.FileUploader({
					element: modal.options.element.find('.file-uploader').get(0),
					action: '/server/upload',
					onComplete: function(id, fileName, responseJSON){
						modal.close();
					}
				});
				if(tc.jQ.isFunction(callback)){
					callback(modal);
				}
			}
		},function(e,d){
			e.preventDefault();
			e.data.app.components.modal.show(e.data);
		});
		
		app.components.merlin = new tc.merlin(app,{
			dom:tc.jQ('form.merlin'),
			progress_element:tc.jQ('.merlin-progress'),
			next_button:tc.jQ('.ca-btn'),
			back_button:tc.jQ('.foothills .back'),
			error_indicator:tc.jQ('.oops'),
			title:tc.jQ('.headlands h1'),
			sub_title:tc.jQ('.headlands h2'),
			watch_keypress:true,
			first_step:'location',
			steps:{
				'start':{
					progress_selector:'.1',
					selector:'.step.start',
					prev_step:null,
					next_step:'location',
					title:'Go from an idea to a solution.',
					sub_title:'XXXXX, let\'s make it happen. The first step is to start a project that supports your idea.',
					validators:{
						'input.name':['max-50','min-3','required'],
						'textarea.describe':['max-200','min-3','required']
					},
					init:function(merlin,dom){
						dom.find('input.name:not(.has-been-focused)').val('');
						dom.find('textarea.describe:not(.has-been-focused)').val('');
					}
				},
				'location':{
					progress_selector:'.2',
					selector:'.step.location',
					prev_step:'start',
					next_step:'check',
					title:'Go from an idea to a solution.',
					sub_title:'We want to provide you with resources and people in your area!',
					validators:{
						'.location-group':tc.locationDropdown.validator
					},
					init:function(merlin,dom){
						var dropdown;
						dom.find('input.location-city, input.location-hood').not('.has-been-focused').removeAttr('checked');
						dom.find('input.location-hood-enter:not(.has-been-focused)').val('');
						dropdown = new tc.locationDropdown({
							radios:dom.find('input[type=radio]'),
							input:dom.find('input.location-hood-enter'),
							list:dom.find('div.location-hood-list'),
							warning:dom.find('span.error')
						});
					}
				},
				'check':{
					title:'Wait! Check for similar projects.',
					sub_title:'It\'s great to start something new but there is also strength in numbers. Have a look at some related projects you may want to be a part of.',
					progress_selector:'.3',
					selector:'.step.check',
					prev_step:'location',
					next_step:'add'
				},
				'check-nosimilar':{
					title:'Wait! Check for similar projects.',
					sub_title:'It\'s great to start something new but there is also strength in numbers. Have a look at some related projects you may want to be a part of.',
					progress_selector:'.3',
					selector:'.step.check-nosimilar',
					prev_step:'location',
					next_step:'add'
				},
				'add':{
					title:'Add some resources.',
					sub_title:'When you add resources, we\'ll introduce your project to that organization. You may get a message from them with more information about how they can help.',
					progress_selector:'.4',
					selector:'.step.add',
					prev_step:'check',
					next_step:'finish'
				},
				'add-noresources':{
					title:'Add some resources.',
					sub_title:'When you add resources, we\'ll introduce your project to that organization. You may get a message from them with more information about how they can help.',
					progress_selector:'.4',
					selector:'.step.add-noresources',
					prev_step:'check',
					next_step:'finish'
				},
				'finish':{
					progress_selector:'.4',
					selector:'step.finish',
					prev_step:null,
					next_step:null,
					init:function(merlin,dom){
						tc.timer(1000,function(){
							window.location = '/project';
						});
					}
				}
			}
		});
	});
		
</script>


{% endblock continent %}